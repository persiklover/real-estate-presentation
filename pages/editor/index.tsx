/* eslint-disable @next/next/no-img-element */
import React, { useEffect, useState } from 'react';
import getPage from '../../api/get-page';

export default function Editor() {
	const [pageData, setPageData] = useState<Record<string, string>>({});

	useEffect(() => {
		(async () => {
			const params = new URLSearchParams(window.location.search);
			const url = params.get('url');
			if (!url) {
				return;
			}
			const pageData = await getPage(url);
			if (pageData) {
				setPageData(pageData);
			}
		})();
	}, [])
	return (
		<>
			<div className='editor'>
				{/* absolute positioned */}
				<div className='editor__menu'>
					<ol>
						<li>
							<button>
								<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
									<rect x=".75" y=".75" width="39.7687" height="39.7687" rx="5.1455" stroke="#fff" strokeWidth="1.5" />
									<path d="M14.1494 21.1874h6.4273v7.1324h1.1661v-7.1324h6.4002v-1.0848h-6.4002v-7.1324h-1.1661v7.1324h-6.4273v1.0848Z" fill="#fff" />
									<path d="M14.1494 21.1874h6.4273v7.1324h1.1661v-7.1324h6.4002v-1.0848h-6.4002v-7.1324h-1.1661v7.1324h-6.4273v1.0848Z" stroke="#fff" />
								</svg>
							</button>
						</li>

						<li>
							<button>
								<svg width="39" height="43" viewBox="0 0 39 43" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M27.7501.4327c-1.2157.2605-2.4313.9443-3.3757 1.8778-.9117.9117-1.3676 1.6498-1.7366 2.7461l-.2388.7381H11.8269c-11.4621 0-11.028-.0217-11.5164.597-.5101.6512-.3582 1.5847.3256 2.008.3582.2171.521.2171 11.0605.2171h10.6915l.2388.7272c.6621 2.0515 2.236 3.6796 4.3417 4.4612.9769.3581 2.8872.4558 3.9293.1953 2.2685-.5644 4.1897-2.3445 4.9278-4.537l.2714-.7924 1.0094-.0543c1.1614-.0651 1.4762-.2062 1.7584-.814.2279-.4777.1628-.977-.1628-1.4003-.3474-.445-.6187-.5427-1.6607-.6078l-.9552-.0543-.1845-.597c-.3257-1.0637-.8901-1.9646-1.7476-2.833C32.4717.6173 30.0946-.0774 27.7501.4328Zm3.2997 3.0392c.8249.4016 1.5847 1.1614 1.9863 1.9646.2714.5753.304.7381.304 1.7693 0 1.0094-.0326 1.2156-.2931 1.7584-.7707 1.6606-2.7027 2.681-4.4502 2.3662-1.3026-.2388-2.3988-1.0203-2.9958-2.1492-1.2049-2.2685-.1303-5.0364 2.3119-5.9156.8575-.3039 2.3011-.217 3.1369.2063ZM8.3758 14.3154c-2.4205.4993-4.5154 2.3771-5.2644 4.7216l-.2496.7598h-.9986c-.9335 0-1.042.0218-1.346.2823-.6838.5752-.6838 1.5847 0 2.16.304.2496.4234.2713 1.346.2713h.9986l.2496.7598c1.411 4.3743 6.6645 6.2304 10.4635 3.6796 1.3785-.9117 2.3446-2.2251 2.8439-3.8207l.1953-.6187H38.149l.3365-.2713c.6838-.5753.6838-1.5848 0-2.16l-.3365-.2823H16.5924l-.0759-.3581c-.1412-.673-1.0095-2.3011-1.5739-2.9198-1.6064-1.791-4.2549-2.681-6.5669-2.2035Zm3.1368 3.0827c2.6593 1.3133 3.2238 4.7216 1.0963 6.7296-.3256.3148-.8792.6947-1.2157.8575-.8574.3907-2.2685.4125-3.202.0326-.8792-.3365-1.7367-1.1506-2.1708-2.0515-.3365-.673-.3582-.8032-.3582-1.8127 0-.9443.0325-1.1614.293-1.7041.3148-.6838 1.0095-1.487 1.574-1.8344 1.1722-.7272 2.7678-.814 3.9834-.217ZM21.965 28.3282c-.8792.2063-2.1926.9227-2.9307 1.5739-.8249.7381-1.6498 1.9863-1.9537 2.9849l-.2388.8033H8.9182c-7.5546 0-7.9345.0108-8.2601.2062-.7056.4233-.8792 1.4653-.3474 2.0514.5319.5753.3474.5645 8.7594.5645h7.8042l.0652.3582c.1085.5752.7815 1.8886 1.335 2.5941 1.3568 1.715 3.5711 2.6919 5.8288 2.5508 2.5073-.152 4.6456-1.563 5.7527-3.7773.2714-.5319.521-1.1397.5645-1.3459l.0651-.3799h3.6253c3.9401 0 4.1355-.0217 4.5805-.597.5102-.6513.3474-1.5956-.3473-2.0189-.3148-.1954-.6079-.2062-4.0812-.2062h-3.7447l-.2388-.8033c-.304-.9986-1.1289-2.2468-1.9538-2.9849-.7598-.673-2.0515-1.3676-2.9741-1.5847-.8575-.1954-2.5507-.1954-3.3865.0108Zm3.0826 2.8222c1.042.3256 1.9429 1.1722 2.4639 2.2902.3908.8575.4125 2.2685.0326 3.202-.3365.8792-1.1506 1.7367-2.0515 2.1709-.6729.3364-.8032.3582-1.8126.3582-1.0095 0-1.1397-.0218-1.8127-.3582-.9009-.4342-1.715-1.2917-2.0515-2.1709-.1953-.4776-.2496-.8358-.2605-1.5956 0-.89.0326-1.0528.3474-1.6824.9769-1.9972 3.0392-2.8872 5.1449-2.2142Z" fill="#fff" />
								</svg>
							</button>
						</li>

						<li>
							<button>
								<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
									<rect x=".75" y=".7789" width="39.7687" height="39.7687" rx="7.5037" stroke="#fff" strokeWidth="1.5" />
									<path d="M22.1233 12.5595v2.8582l-1.138.0573c-5.2609.2677-9.2439 2.8869-11.6319 7.6187-.6902 1.3765-1.1566 2.667-1.5484 4.2538-.2892 1.1853-.6716 3.5464-.5877 3.6324.0187.0192.3638-.4779.7743-1.1184 2.22-3.4891 4.1602-5.4582 6.4082-6.5289 1.7816-.8412 3.5912-1.2235 6.3896-1.3574l1.3339-.0573.0186 3.0493.028 3.059 5.9512-4.5597 5.9418-4.5502-5.9698-4.6075-5.9698-4.6075v2.8582Z" fill="#fff" />
								</svg>
							</button>
						</li>

						<li>
							<button>
								<svg width="38" height="43" viewBox="0 0 38 43" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M4.3889.4289c-.3445.1476-.7055.4757-.886.812-.123.2215-.1394.8942-.164 7.1449l-.0246 6.907-.7547.0328c-.9187.041-1.4683.2625-1.9277.7547-.6644.7218-.6316.3199-.6316 7.76 0 6.5707 0 6.6035.1722 6.9808.443.9516 1.1485 1.3863 2.3871 1.452l.7547.041.0246 4.3968c.0246 4.8234.0082 4.6101.5332 5.1105.5332.5086-.5004.4758 14.7081.4758 15.2084 0 14.1748.0328 14.708-.4758.525-.5004.5086-.2871.5332-5.1105l.0246-4.3968.7547-.041c1.2386-.0657 1.9441-.5004 2.3871-1.452.1722-.3773.1722-.4101.1722-6.9808 0-7.4401.0329-7.0382-.6316-7.76-.4594-.4922-1.009-.7137-1.9277-.7547l-.7629-.0328-.0082-2.4774c-.0082-1.3535-.0328-2.5593-.0656-2.6741-.0656-.2461-8.1538-9.5156-8.4738-9.7124-.1968-.123-1.132-.1313-10.4178-.1313C5.9474.3058 4.6432.3222 4.3889.4289Zm19.6873 5.857v4.3475l.2379.2625.2379.2707 3.8226.0246 3.8226.0247v4.0933H4.9632V1.9382h19.113v4.3476ZM9.3107 18.0981c.4266.0902 1.009.2707 1.2879.4102 1.3699.6726 2.1 2.1163 1.9113 3.757-.123 1.0828-.4512 1.7718-1.132 2.4116-.8777.8203-2.0672 1.2141-3.7652 1.2387l-1.091.0164-.0164 2.1738-.0246 2.1738-1.37.0246-1.378.0164v-6.0702c0-3.3387.0246-6.0703.0656-6.0785.0328 0 .4265-.0574.8777-.1148 1.3535-.1723 3.7078-.1477 4.6347.041Zm10.746-.041c1.0254.1558 1.5504.3117 2.3051.7137 1.1976.6152 2.0753 1.6324 2.4855 2.871.5496 1.6488.4429 3.757-.2707 5.2746-.8613 1.8293-2.2066 2.789-4.6019 3.2976-.566.123-1.091.1477-2.7891.1477-1.1484 0-2.264-.0329-2.4773-.0657l-.3937-.0656v-6.0292c0-3.3141.0082-6.0211.0246-6.0293.0082 0 .4429-.0492.9597-.1066 1.3289-.1559 3.798-.1559 4.7578-.0082Zm14.503 1.0828-.0246 1.132-2.3543.0246-2.3625.0164v2.7892h4.4297v2.2148l-2.1903.0164-2.1984.0246-.0246 2.4773-.0164 2.4855h-2.789V18.0162h7.555l-.0246 1.1238Zm-2.3625 17.0869v3.9375H4.9632v-7.8749h27.234v3.9374Z" fill="#fff" />
									<path d="m6.9731 20.0588-.4101.0492-.0246 1.8211-.0164 1.8211.3691.0574c.9188.1312 1.9852-.1805 2.4527-.7137.7547-.8859.5414-2.3132-.4347-2.8136-.2297-.1231-1.1567-.3035-1.4028-.2789-.0656 0-.3035.0328-.5332.0574Zm10.3191.0655-.1887.0328v8.0226l.2953.0574c.3856.0738 1.5914-.0246 2.1246-.164 1.3371-.3528 2.2476-1.3289 2.5922-2.7563.164-.7136.123-2.2312-.0821-2.871-.5003-1.5914-1.7718-2.3953-3.7487-2.3707-.4512.0082-.8942.0328-.9926.0492Z" fill="#fff" />
								</svg>
							</button>
						</li>
					</ol>
				</div>

				<div className='editor__window'>
					<dl>
						{
							Object.keys(pageData).map((prop, index) => {
								return (
									<div className="data" key={index + prop}>
										<dt>
											<b>{prop}</b>
										</dt>
										<dd>
											{pageData[prop]}
										</dd>
									</div>
								)
							})
						}
					</dl>

					{/* absolute positioned */}
					<div className='window-edit-menu'>
						<ol>
							<li>
								<button className='picture-btn'>
									<svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M.6982.1143C.6572.1319.5867.2197.5397.3076.4634.4541.4517 1.7194.4517 10.085v9.6075l.1408.164.141.1641 7.4373.0175 7.4315.0117-.047.4277c-.0822.7381-.0528 1.9566.0646 2.5014.6398 3.0405 2.8998 5.3017 5.9228 5.9227.7573.1523 1.9959.164 2.7707.0234 1.5203-.2753 2.8881-.9959 3.9916-2.1031 1.0332-1.0427 1.7023-2.2612 2.0311-3.7258.1643-.7323.2054-1.8277.088-2.56-.0763-.5273-.0822-.6151-.0058-.7616.0763-.1406.088-1.4587.088-9.7305 0-10.205.0117-9.83-.2641-9.9355C30.1248.0674.8097.0674.6982.1143ZM29.5084 7.437v6.3679l-2.1308-2.1207c-1.9254-1.9097-2.1543-2.1206-2.3246-2.1206-.1056 0-.2465.0293-.317.0644-.0645.041-1.397 1.0252-2.9643 2.1968l-2.8353 2.1266-5.0012-4.0832c-2.7531-2.2496-5.0659-4.13-5.148-4.1886-.188-.1289-.4814-.1289-.634 0-.0705.0586-1.6026 2.765-3.4105 6.0222l-3.2931 5.9168V1.0692h28.0588V7.437Zm-15.2739 3.966c2.5535 2.0914 4.6491 3.8196 4.6491 3.843 0 .0235-.1467.1406-.3287.2636-.4696.3222-1.174 1.0311-1.6025 1.6052-.3405.4569-1.0038 1.693-1.0038 1.8629 0 .0644-1.3795.0762-7.0793.0762-3.8918 0-7.0617-.0176-7.05-.0469.0177-.0234 1.538-2.7592 3.3871-6.075 1.849-3.3216 3.3694-6.0515 3.387-6.0808.0118-.0234.2407.1348.5048.3515.2642.2226 2.577 2.109 5.1363 4.2003Zm13.0022 1.6052 2.2717 2.273-.0117 1.2536-.0177 1.2537-.2171-.3515c-.3053-.4921-.9216-1.2009-1.3854-1.5817-1.4557-1.201-3.0465-1.7868-4.8486-1.7868-.9275 0-1.6202.1172-2.4126.3925-.6399.2285-.7984.2578-.8277.1699-.0176-.0469 5.0541-3.8898 5.1422-3.8957.0176 0 1.0566 1.0193 2.3069 2.273Zm-2.6768 2.2261c1.9137.5214 3.3812 1.6989 4.2382 3.3919.9568 1.8981.9275 4.0832-.0763 5.9695-2.0252 3.802-7.1732 4.5987-10.255 1.5934-2.0427-1.9859-2.5593-5.0263-1.2855-7.5512.857-1.6989 2.3891-2.9291 4.2206-3.386.6574-.1699.7102-.1758 1.7668-.1523.7338.0175 1.0684.0468 1.3912.1347Z" fill="#0E0E0E" />
										<path d="M20.7858 2.152c-1.8491.58-2.3891 2.8476-1.0038 4.2011.5048.4922 1.3619.7618 2.0663.6446 1.039-.17 1.7903-.8555 2.0545-1.8692.317-1.2246-.4051-2.5312-1.626-2.9414-.4168-.1406-1.1036-.1582-1.491-.0351Zm1.3677 1.0488c.2642.1348.5577.4395.6927.7148.1643.3282.1585.9668-.0118 1.2891-.3874.7266-1.2914 1.0371-1.9958.6738-1.1036-.5625-1.1153-2.0859-.0176-2.6601.2876-.1524.3698-.164.7338-.1465.2289.0176.4989.0703.5987.1289Zm.3518 13.3692c-.0235.0234-.0411 1.0428-.0411 2.2613v2.2144h-4.4613v.9959h4.4613v3.9835h1.0566v-3.9835h4.4612v-.9959h-4.4612l-.0118-2.2437-.0176-2.2378-.4696-.0176c-.2641-.0059-.4931 0-.5165.0234Z" fill="#0E0E0E" />
									</svg>
								</button>
							</li>

							<li>
								<button className='resize-btn'>
									<svg width="8" height="28" viewBox="0 0 8 28" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M4.1611.5758.7461 6.491h6.8302L4.161.5758Zm0 27.2097 3.4151-5.9151H.746l3.4151 5.9151Zm-.5915-21.886v16.5624h1.183V5.8994h-1.183Z" fill="#0E0E0E" />
									</svg>
								</button>
							</li>

							<li>
								<button className='delete-btn'>
									<svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="m.9331 1.0835 26.8326 26.8326m.3769-26.4555L1.31 28.293" stroke="#fff" strokeWidth="1.183" strokeLinecap="round" />
									</svg>
								</button>
							</li>
						</ol>
					</div>
				</div>
			</div>
		</>
	);
}
